
> test-interface-sheril@0.1.0 start
> react-scripts start

(node:2663) [DEP_WEBPACK_DEV_SERVER_ON_AFTER_SETUP_MIDDLEWARE] DeprecationWarning: 'onAfterSetupMiddleware' option is deprecated. Please use the 'setupMiddlewares' option.
(Use `node --trace-deprecation ...` to show where the warning was created)
(node:2663) [DEP_WEBPACK_DEV_SERVER_ON_BEFORE_SETUP_MIDDLEWARE] DeprecationWarning: 'onBeforeSetupMiddleware' option is deprecated. Please use the 'setupMiddlewares' option.
Starting the development server...

Compiled successfully!

You can now view test-interface-sheril in the browser.

  Local:            http://localhost:3000/test-salardon-sheril-interface
  On Your Network:  http://192.168.0.2:3000/test-salardon-sheril-interface

Note that the development build is not optimized.
To create a production build, use npm run build.

webpack compiled successfully
No issues found.
Compiling...
Compiled with warnings.

[eslint]
src/parsers/parseRapport.ts
  Line 378:11:  'raceNames' is assigned a value but never used  @typescript-eslint/no-unused-vars

Search for the keywords to learn more about each warning.
To ignore, add // eslint-disable-next-line to the line before.

WARNING in [eslint]
src/parsers/parseRapport.ts
  Line 378:11:  'raceNames' is assigned a value but never used  @typescript-eslint/no-unused-vars

webpack compiled with 1 warning
No issues found.
Compiling...
Compiled successfully!
webpack compiled successfully
No issues found.
Compiling...
Compiled successfully!
webpack compiled successfully
Files successfully emitted, waiting for typecheck results...
Issues checking in progress...
No issues found.
Compiling...
Compiled successfully!
webpack compiled successfully
No issues found.
Compiling...
Failed to compile.

SyntaxError: /app/src/parsers/parseRapport.ts: Identifier 'raceNames' has already been declared. (388:10)
  386 |     const flottesJoueur: FlotteJoueur[] = [];
  387 |     const fltNodes = qAll(joueurNode, ['flottes > f', 'flottes > flotte']);
> 388 |     const raceNames: { [key: number]: { nom: string, couleur: string } } = {
      |           ^
  389 |         0: { nom: "Fremens", couleur: "#CC00FF" },
  390 |         1: { nom: "Atalantes", couleur: "#0066CC" },
  391 |         2: { nom: "Zwaias", couleur: "#FFCC00" },
    at parser.next (<anonymous>)
WARNING in [eslint]
src/parsers/parseRapport.ts
  Line 388:11:  'raceNames' is already defined  @typescript-eslint/no-redeclare

ERROR in ./src/parsers/parseRapport.ts
Module build failed (from ./node_modules/babel-loader/lib/index.js):
SyntaxError: /app/src/parsers/parseRapport.ts: Identifier 'raceNames' has already been declared. (388:10)

  386 |     const flottesJoueur: FlotteJoueur[] = [];
  387 |     const fltNodes = qAll(joueurNode, ['flottes > f', 'flottes > flotte']);
> 388 |     const raceNames: { [key: number]: { nom: string, couleur: string } } = {
      |           ^
  389 |         0: { nom: "Fremens", couleur: "#CC00FF" },
  390 |         1: { nom: "Atalantes", couleur: "#0066CC" },
  391 |         2: { nom: "Zwaias", couleur: "#FFCC00" },
    at constructor (/app/node_modules/@babel/parser/lib/index.js:367:19)
    at TypeScriptParserMixin.raise (/app/node_modules/@babel/parser/lib/index.js:6624:19)
    at TypeScriptScopeHandler.checkRedeclarationInScope (/app/node_modules/@babel/parser/lib/index.js:1646:19)
    at TypeScriptScopeHandler.declareName (/app/node_modules/@babel/parser/lib/index.js:1612:12)
    at TypeScriptScopeHandler.declareName (/app/node_modules/@babel/parser/lib/index.js:4909:11)
    at TypeScriptParserMixin.declareNameFromIdentifier (/app/node_modules/@babel/parser/lib/index.js:7594:16)
    at TypeScriptParserMixin.checkIdentifier (/app/node_modules/@babel/parser/lib/index.js:7590:12)
    at TypeScriptParserMixin.checkLVal (/app/node_modules/@babel/parser/lib/index.js:7527:12)
    at TypeScriptParserMixin.parseVarId (/app/node_modules/@babel/parser/lib/index.js:13488:10)
    at TypeScriptParserMixin.parseVarId (/app/node_modules/@babel/parser/lib/index.js:9805:11)
    at TypeScriptParserMixin.parseVar (/app/node_modules/@babel/parser/lib/index.js:13459:12)
    at TypeScriptParserMixin.parseVarStatement (/app/node_modules/@babel/parser/lib/index.js:13306:10)
    at TypeScriptParserMixin.parseVarStatement (/app/node_modules/@babel/parser/lib/index.js:9469:31)
    at TypeScriptParserMixin.parseStatementContent (/app/node_modules/@babel/parser/lib/index.js:12927:23)
    at TypeScriptParserMixin.parseStatementContent (/app/node_modules/@babel/parser/lib/index.js:9569:18)
    at TypeScriptParserMixin.parseStatementLike (/app/node_modules/@babel/parser/lib/index.js:12843:17)
    at TypeScriptParserMixin.parseStatementListItem (/app/node_modules/@babel/parser/lib/index.js:12823:17)
    at TypeScriptParserMixin.parseBlockOrModuleBlockBody (/app/node_modules/@babel/parser/lib/index.js:13392:61)
    at TypeScriptParserMixin.parseBlockBody (/app/node_modules/@babel/parser/lib/index.js:13385:10)
    at TypeScriptParserMixin.parseBlock (/app/node_modules/@babel/parser/lib/index.js:13373:10)
    at TypeScriptParserMixin.parseFunctionBody (/app/node_modules/@babel/parser/lib/index.js:12174:24)
    at TypeScriptParserMixin.parseFunctionBodyAndFinish (/app/node_modules/@babel/parser/lib/index.js:12160:10)
    at TypeScriptParserMixin.parseFunctionBodyAndFinish (/app/node_modules/@babel/parser/lib/index.js:9223:18)
    at /app/node_modules/@babel/parser/lib/index.js:13521:12
    at TypeScriptParserMixin.withSmartMixTopicForbiddingContext (/app/node_modules/@babel/parser/lib/index.js:12477:14)
    at TypeScriptParserMixin.parseFunction (/app/node_modules/@babel/parser/lib/index.js:13520:10)
    at TypeScriptParserMixin.parseFunctionStatement (/app/node_modules/@babel/parser/lib/index.js:13201:17)
    at TypeScriptParserMixin.parseStatementContent (/app/node_modules/@babel/parser/lib/index.js:12867:21)
    at TypeScriptParserMixin.parseStatementContent (/app/node_modules/@babel/parser/lib/index.js:9569:18)
    at TypeScriptParserMixin.parseStatementLike (/app/node_modules/@babel/parser/lib/index.js:12843:17)
    at TypeScriptParserMixin.parseStatementListItem (/app/node_modules/@babel/parser/lib/index.js:12823:17)
    at TypeScriptParserMixin.parseExportDeclaration (/app/node_modules/@babel/parser/lib/index.js:14010:17)
    at TypeScriptParserMixin.parseExportDeclaration (/app/node_modules/@babel/parser/lib/index.js:9690:85)
    at TypeScriptParserMixin.maybeParseExportDeclaration (/app/node_modules/@babel/parser/lib/index.js:13969:31)
    at TypeScriptParserMixin.parseExport (/app/node_modules/@babel/parser/lib/index.js:13888:29)
    at TypeScriptParserMixin.parseExport (/app/node_modules/@babel/parser/lib/index.js:9446:20)
    at TypeScriptParserMixin.parseStatementContent (/app/node_modules/@babel/parser/lib/index.js:12954:27)
    at TypeScriptParserMixin.parseStatementContent (/app/node_modules/@babel/parser/lib/index.js:9569:18)
    at TypeScriptParserMixin.parseStatementLike (/app/node_modules/@babel/parser/lib/index.js:12843:17)
    at TypeScriptParserMixin.parseModuleItem (/app/node_modules/@babel/parser/lib/index.js:12820:17)
    at TypeScriptParserMixin.parseBlockOrModuleBlockBody (/app/node_modules/@babel/parser/lib/index.js:13392:36)
    at TypeScriptParserMixin.parseBlockBody (/app/node_modules/@babel/parser/lib/index.js:13385:10)
    at TypeScriptParserMixin.parseProgram (/app/node_modules/@babel/parser/lib/index.js:12698:10)
    at TypeScriptParserMixin.parseTopLevel (/app/node_modules/@babel/parser/lib/index.js:12688:25)
    at TypeScriptParserMixin.parse (/app/node_modules/@babel/parser/lib/index.js:14568:25)
    at TypeScriptParserMixin.parse (/app/node_modules/@babel/parser/lib/index.js:10183:18)
    at parse (/app/node_modules/@babel/parser/lib/index.js:14602:38)
    at parser (/app/node_modules/@babel/core/lib/parser/index.js:41:34)
    at parser.next (<anonymous>)
    at normalizeFile (/app/node_modules/@babel/core/lib/transformation/normalize-file.js:64:37)

webpack compiled with 1 error and 1 warning
ERROR in src/parsers/parseRapport.ts:118:11
TS2451: Cannot redeclare block-scoped variable 'raceNames'.
    116 |     const doc = new DOMParser().parseFromString(text, 'text/xml');
    117 |
  > 118 |     const raceNames: { [key: number]: { nom: string, couleur: string } } = {
        |           ^^^^^^^^^
    119 |         0: { nom: "Fremens", couleur: "#CC00FF" },
    120 |         1: { nom: "Atalantes", couleur: "#0066CC" },
    121 |         2: { nom: "Zwaias", couleur: "#FFCC00" },

ERROR in src/parsers/parseRapport.ts:388:11
TS2451: Cannot redeclare block-scoped variable 'raceNames'.
    386 |     const flottesJoueur: FlotteJoueur[] = [];
    387 |     const fltNodes = qAll(joueurNode, ['flottes > f', 'flottes > flotte']);
  > 388 |     const raceNames: { [key: number]: { nom: string, couleur: string } } = {
        |           ^^^^^^^^^
    389 |         0: { nom: "Fremens", couleur: "#CC00FF" },
    390 |         1: { nom: "Atalantes", couleur: "#0066CC" },
    391 |         2: { nom: "Zwaias", couleur: "#FFCC00" },

Compiling...
Failed to compile.

SyntaxError: /app/src/parsers/parseRapport.ts: Identifier 'raceNames' has already been declared. (380:10)
  378 |     const flottesJoueur: FlotteJoueur[] = [];
  379 |     const fltNodes = qAll(joueurNode, ['flottes > f', 'flottes > flotte']);
> 380 |     const raceNames: { [key: number]: { nom: string, couleur: string } } = {
      |           ^
  381 |         0: { nom: "Fremens", couleur: "#CC00FF" },
  382 |         1: { nom: "Atalantes", couleur: "#0066CC" },
  383 |         2: { nom: "Zwaias", couleur: "#FFCC00" },
    at parser.next (<anonymous>)
WARNING in [eslint]
src/parsers/parseRapport.ts
  Line 380:11:  'raceNames' is already defined  @typescript-eslint/no-redeclare

ERROR in ./src/parsers/parseRapport.ts
Module build failed (from ./node_modules/babel-loader/lib/index.js):
SyntaxError: /app/src/parsers/parseRapport.ts: Identifier 'raceNames' has already been declared. (380:10)

  378 |     const flottesJoueur: FlotteJoueur[] = [];
  379 |     const fltNodes = qAll(joueurNode, ['flottes > f', 'flottes > flotte']);
> 380 |     const raceNames: { [key: number]: { nom: string, couleur: string } } = {
      |           ^
  381 |         0: { nom: "Fremens", couleur: "#CC00FF" },
  382 |         1: { nom: "Atalantes", couleur: "#0066CC" },
  383 |         2: { nom: "Zwaias", couleur: "#FFCC00" },
    at constructor (/app/node_modules/@babel/parser/lib/index.js:367:19)
    at TypeScriptParserMixin.raise (/app/node_modules/@babel/parser/lib/index.js:6624:19)
    at TypeScriptScopeHandler.checkRedeclarationInScope (/app/node_modules/@babel/parser/lib/index.js:1646:19)
    at TypeScriptScopeHandler.declareName (/app/node_modules/@babel/parser/lib/index.js:1612:12)
    at TypeScriptScopeHandler.declareName (/app/node_modules/@babel/parser/lib/index.js:4909:11)
    at TypeScriptParserMixin.declareNameFromIdentifier (/app/node_modules/@babel/parser/lib/index.js:7594:16)
    at TypeScriptParserMixin.checkIdentifier (/app/node_modules/@babel/parser/lib/index.js:7590:12)
    at TypeScriptParserMixin.checkLVal (/app/node_modules/@babel/parser/lib/index.js:7527:12)
    at TypeScriptParserMixin.parseVarId (/app/node_modules/@babel/parser/lib/index.js:13488:10)
    at TypeScriptParserMixin.parseVarId (/app/node_modules/@babel/parser/lib/index.js:9805:11)
    at TypeScriptParserMixin.parseVar (/app/node_modules/@babel/parser/lib/index.js:13459:12)
    at TypeScriptParserMixin.parseVarStatement (/app/node_modules/@babel/parser/lib/index.js:13306:10)
    at TypeScriptParserMixin.parseVarStatement (/app/node_modules/@babel/parser/lib/index.js:9469:31)
    at TypeScriptParserMixin.parseStatementContent (/app/node_modules/@babel/parser/lib/index.js:12927:23)
    at TypeScriptParserMixin.parseStatementContent (/app/node_modules/@babel/parser/lib/index.js:9569:18)
    at TypeScriptParserMixin.parseStatementLike (/app/node_modules/@babel/parser/lib/index.js:12843:17)
    at TypeScriptParserMixin.parseStatementListItem (/app/node_modules/@babel/parser/lib/index.js:12823:17)
    at TypeScriptParserMixin.parseBlockOrModuleBlockBody (/app/node_modules/@babel/parser/lib/index.js:13392:61)
    at TypeScriptParserMixin.parseBlockBody (/app/node_modules/@babel/parser/lib/index.js:13385:10)
    at TypeScriptParserMixin.parseBlock (/app/node_modules/@babel/parser/lib/index.js:13373:10)
    at TypeScriptParserMixin.parseFunctionBody (/app/node_modules/@babel/parser/lib/index.js:12174:24)
    at TypeScriptParserMixin.parseFunctionBodyAndFinish (/app/node_modules/@babel/parser/lib/index.js:12160:10)
    at TypeScriptParserMixin.parseFunctionBodyAndFinish (/app/node_modules/@babel/parser/lib/index.js:9223:18)
    at /app/node_modules/@babel/parser/lib/index.js:13521:12
    at TypeScriptParserMixin.withSmartMixTopicForbiddingContext (/app/node_modules/@babel/parser/lib/index.js:12477:14)
    at TypeScriptParserMixin.parseFunction (/app/node_modules/@babel/parser/lib/index.js:13520:10)
    at TypeScriptParserMixin.parseFunctionStatement (/app/node_modules/@babel/parser/lib/index.js:13201:17)
    at TypeScriptParserMixin.parseStatementContent (/app/node_modules/@babel/parser/lib/index.js:12867:21)
    at TypeScriptParserMixin.parseStatementContent (/app/node_modules/@babel/parser/lib/index.js:9569:18)
    at TypeScriptParserMixin.parseStatementLike (/app/node_modules/@babel/parser/lib/index.js:12843:17)
    at TypeScriptParserMixin.parseStatementListItem (/app/node_modules/@babel/parser/lib/index.js:12823:17)
    at TypeScriptParserMixin.parseExportDeclaration (/app/node_modules/@babel/parser/lib/index.js:14010:17)
    at TypeScriptParserMixin.parseExportDeclaration (/app/node_modules/@babel/parser/lib/index.js:9690:85)
    at TypeScriptParserMixin.maybeParseExportDeclaration (/app/node_modules/@babel/parser/lib/index.js:13969:31)
    at TypeScriptParserMixin.parseExport (/app/node_modules/@babel/parser/lib/index.js:13888:29)
    at TypeScriptParserMixin.parseExport (/app/node_modules/@babel/parser/lib/index.js:9446:20)
    at TypeScriptParserMixin.parseStatementContent (/app/node_modules/@babel/parser/lib/index.js:12954:27)
    at TypeScriptParserMixin.parseStatementContent (/app/node_modules/@babel/parser/lib/index.js:9569:18)
    at TypeScriptParserMixin.parseStatementLike (/app/node_modules/@babel/parser/lib/index.js:12843:17)
    at TypeScriptParserMixin.parseModuleItem (/app/node_modules/@babel/parser/lib/index.js:12820:17)
    at TypeScriptParserMixin.parseBlockOrModuleBlockBody (/app/node_modules/@babel/parser/lib/index.js:13392:36)
    at TypeScriptParserMixin.parseBlockBody (/app/node_modules/@babel/parser/lib/index.js:13385:10)
    at TypeScriptParserMixin.parseProgram (/app/node_modules/@babel/parser/lib/index.js:12698:10)
    at TypeScriptParserMixin.parseTopLevel (/app/node_modules/@babel/parser/lib/index.js:12688:25)
    at TypeScriptParserMixin.parse (/app/node_modules/@babel/parser/lib/index.js:14568:25)
    at TypeScriptParserMixin.parse (/app/node_modules/@babel/parser/lib/index.js:10183:18)
    at parse (/app/node_modules/@babel/parser/lib/index.js:14602:38)
    at parser (/app/node_modules/@babel/core/lib/parser/index.js:41:34)
    at parser.next (<anonymous>)
    at normalizeFile (/app/node_modules/@babel/core/lib/transformation/normalize-file.js:64:37)

webpack compiled with 1 error and 1 warning
ERROR in src/parsers/parseRapport.ts:118:11
TS2451: Cannot redeclare block-scoped variable 'raceNames'.
    116 |     const doc = new DOMParser().parseFromString(text, 'text/xml');
    117 |
  > 118 |     const raceNames: { [key: number]: { nom: string, couleur: string } } = {
        |           ^^^^^^^^^
    119 |         0: { nom: "Fremens", couleur: "#CC00FF" },
    120 |         1: { nom: "Atalantes", couleur: "#0066CC" },
    121 |         2: { nom: "Zwaias", couleur: "#FFCC00" },

ERROR in src/parsers/parseRapport.ts:380:11
TS2451: Cannot redeclare block-scoped variable 'raceNames'.
    378 |     const flottesJoueur: FlotteJoueur[] = [];
    379 |     const fltNodes = qAll(joueurNode, ['flottes > f', 'flottes > flotte']);
  > 380 |     const raceNames: { [key: number]: { nom: string, couleur: string } } = {
        |           ^^^^^^^^^
    381 |         0: { nom: "Fremens", couleur: "#CC00FF" },
    382 |         1: { nom: "Atalantes", couleur: "#0066CC" },
    383 |         2: { nom: "Zwaias", couleur: "#FFCC00" },

Compiling...
Compiled successfully!
webpack compiled successfully
No issues found.
Compiling...
Compiled successfully!
webpack compiled successfully
ERROR in src/parsers/parseRapport.ts:308:15
TS2304: Cannot find name 'raceNames'.
    306 |
    307 |         const mostRepresentedRace = Object.keys(racePop).length > 0
  > 308 |             ? raceNames[parseInt(Object.keys(racePop).reduce((a, b) => racePop[parseInt(a)] > racePop[parseInt(b)] ? a : b))].nom
        |               ^^^^^^^^^
    309 |             : "";
    310 |         systemesJoueur.push({
    311 |             type: 'joueur',

ERROR in src/parsers/parseRapport.ts:387:26
TS2304: Cannot find name 'raceNames'.
    385 |         const raceIds = new Set(vaisseaux.map(v => v.race).filter(r => r !== undefined));
    386 |         const equipage = Array.from(raceIds).sort((a, b) => a! - b!).map(raceId => {
  > 387 |             const race = raceNames[raceId!] || { nom: String(raceId), couleur: '#FFFFFF' };
        |                          ^^^^^^^^^
    388 |             return { nom: race.nom, couleur: race.couleur };
    389 |         });
    390 |

Compiling...
Compiled successfully!
webpack compiled successfully
No issues found.
